---
phase: 33-skills-sh-distribution
plan: 02
type: execute
wave: 2
depends_on: [33-01]
files_modified:
  - scripts/build.js
autonomous: true
user_setup: []
source_issue: ""

must_haves:
  truths:
    - build.js generates README.md in dist/skills-sh/ from skill metadata
    - build.js generates LICENSE file in dist/skills-sh/
    - README lists all skills with name and description
    - README includes installation instructions using npx skills add
    - Descriptions are cross-platform (no Claude Code-specific language in generated output)
  artifacts:
    - dist/skills-sh/README.md (generated)
    - dist/skills-sh/LICENSE (generated)
  key_links:
    - scripts/build.js (build system)
---

<objective>
Generate README.md and LICENSE for the kata-skills repo as part of the build step.

Purpose: The `gannonh/kata-skills` repo needs a README with installation instructions and a skill listing, plus a LICENSE file. Generating these during build ensures they stay in sync with actual skill metadata.

Output: Build produces dist/skills-sh/README.md and dist/skills-sh/LICENSE alongside the skills/ directory.
</objective>

<execution_context>
<!-- Executor agent has built-in instructions for plan execution and summary creation -->
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@scripts/build.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate README.md and LICENSE during skills-sh build</name>
  <files>scripts/build.js</files>
  <action>
Add two functions to `buildSkillsSh()` in build.js:

**generateReadme(dest):**
1. Scan `dist/skills-sh/skills/` for all skill directories
2. For each skill, parse the (already transformed) SKILL.md frontmatter to extract `name` and `description`
3. Generate a README.md at `dist/skills-sh/README.md` with this structure:

```markdown
# Kata Skills

Spec-driven development framework skills for AI coding agents.

## Installation

```bash
npx skills add gannonh/kata-skills
```

## Skills

| Skill | Description |
| ----- | ----------- |
| kata-plan-phase | Plan detailed roadmap phases |
| ... | ... |

## Compatibility

Designed for Claude Code. Requires a project `.planning/` directory structure (created by `kata-new-project`).

## License

MIT
```

The skills table should be sorted alphabetically by name. Descriptions should be the transformed versions (no "Triggers include" suffix).

**generateLicense(dest):**
Write a standard MIT license file at `dist/skills-sh/LICENSE` with:
- Year: current year (use `new Date().getFullYear()`)
- Author: "gannonh"

Call both functions at the end of `buildSkillsSh()`, after skill directories are copied.
  </action>
  <verify>
Run `npm run build:skills-sh` and verify:
- `dist/skills-sh/README.md` exists and contains installation instructions, skills table, all skill names
- `dist/skills-sh/LICENSE` exists and contains MIT license text
- Skills table has correct descriptions (no trigger phrases)
- README does not reference Claude Code plugin installation
  </verify>
  <done>
Build produces a complete repo structure at dist/skills-sh/ with README.md, LICENSE, and skills/ directory. README contains accurate skill listing generated from actual SKILL.md metadata.
  </done>
</task>

<task type="auto">
  <name>Task 2: Optimize skill descriptions for cross-platform discovery</name>
  <files>scripts/build.js</files>
  <action>
Review the `transformSkillsShFrontmatter()` function from Plan 01. Enhance the description transformation to also:

1. Truncate descriptions longer than 150 characters (skills.sh cards show ~150 chars). Truncate at the last word boundary before 150 chars and append "..." if truncated.
2. Ensure descriptions start with a verb or action word (no "A skill for..." prefix). If the description starts with "A skill for" or "A skill that", strip it and capitalize the next word.
3. Remove any trailing period from descriptions (skills.sh convention).

These transformations apply only to the skills-sh build output, not the plugin build.

Add a test to `tests/build.test.js` in the skills-sh test suite:
- `skill descriptions are under 150 characters` â€” verify all transformed descriptions are <= 150 chars
  </action>
  <verify>
Run `npm run build:skills-sh` and check 3 skills with long descriptions to confirm truncation. Run `npm test` to verify the length test passes.
  </verify>
  <done>
All skill descriptions in skills-sh output are optimized: no trigger phrases, no trailing periods, under 150 chars, action-oriented language.
  </done>
</task>

</tasks>

<verification>
- `npm run build:skills-sh` produces README.md and LICENSE
- README skills table matches actual skills in dist/skills-sh/skills/
- All descriptions are cross-platform friendly
- `npm test` passes
</verification>

<success_criteria>
- Build produces complete kata-skills repo structure (README.md, LICENSE, skills/)
- README generated from actual skill metadata (stays in sync automatically)
- Descriptions optimized for skills.sh discovery (concise, action-oriented, no platform-specific language)
</success_criteria>

<output>
After completion, create `.planning/phases/pending/33-skills-sh-distribution/33-02-SUMMARY.md`
</output>
