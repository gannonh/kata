---
phase: 07-deprecate-npx-support
plan: 04
type: execute
wave: 2
depends_on: [07-01]
files_modified:
  - README.md
  - CLAUDE.md
  - KATA-STYLE.md
autonomous: true

must_haves:
  truths:
    - "README shows plugin-only installation"
    - "CLAUDE.md references plugin invocation only"
    - "KATA-STYLE.md has no NPX path references"
    - "NPX alternative installation removed from docs"
  artifacts:
    - path: "README.md"
      provides: "Plugin-only installation docs"
      contains: "/plugin install kata"
    - path: "CLAUDE.md"
      provides: "Updated development docs"
      contains: "/kata:"
    - path: "KATA-STYLE.md"
      provides: "Updated style guide"
      min_lines: 100
  key_links:
    - from: "README.md"
      to: "Plugin installation"
      via: "Installation section"
      pattern: "/plugin.*kata"
---

<objective>
Update documentation to reflect plugin-only distribution.

Purpose: All user-facing docs need to remove NPX installation instructions and references.

Output: README.md, CLAUDE.md, and KATA-STYLE.md updated for plugin-only.
</objective>

<execution_context>
Current documentation mentions both:
- Plugin: `/plugin install kata@gannonh-kata-marketplace`
- NPX: `npx @gannonh/kata`

After this plan, only plugin installation will be documented.
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@README.md
@CLAUDE.md
@KATA-STYLE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update README.md</name>
  <files>README.md</files>
  <action>
Update README.md to remove all NPX references:

1. **Remove npm badge** from badge section (keep plugin badge)

2. **Update installation section** (currently lines 30-37):
   - Remove "Or install via NPM" / `npx @gannonh/kata`
   - Keep only plugin installation

3. **Remove "Alternative: NPM Install" details section** (currently around lines 82-89)

4. **Update "Staying Updated" section**:
   - Remove references to NPX update commands
   - Keep plugin update instructions

5. **Search and remove** any other `npx`, `npm`, `@gannonh/kata` references that relate to installation

The installation section should become:
```markdown
## Getting Started

### Install as Claude Code Plugin

```bash
# Start Claude Code
claude

# Install the plugin
/plugin install kata@gannonh-kata-marketplace
```

Verify with `/kata:help`.
```

Remove the npm badge from the badge section.
  </action>
  <verify>
```bash
# Verify no npx installation instructions
grep -n "npx @gannonh/kata" README.md
# Should return nothing

# Verify plugin installation present
grep -n "/plugin install" README.md
# Should return installation line
```
  </verify>
  <done>README.md updated with plugin-only installation, NPX references removed</done>
</task>

<task type="auto">
  <name>Task 2: Update CLAUDE.md and KATA-STYLE.md</name>
  <files>CLAUDE.md, KATA-STYLE.md</files>
  <action>
**CLAUDE.md updates:**

1. **Skills Architecture section** - Update invocation syntax table:
   - Remove NPX row (`/kata-skill-name`)
   - Keep only Plugin row (`/kata:skill-name`)

2. **Remove NPX syntax references** throughout:
   - Remove mentions of `/kata-planning-phases` (NPX syntax)
   - Keep `/kata:planning-phases` (plugin syntax)

3. **Update Available Skills table**:
   - Remove "Invocation (NPX)" column if present
   - Keep "Invocation (plugin)" or just "Invocation"

4. **Installation and Testing section**:
   - Remove `npx @gannonh/kata` references
   - Remove `~/.claude/skills/kata-*` (global NPX) references
   - Keep `.claude/skills/*` (plugin) references

**KATA-STYLE.md updates:**

1. Search for any NPX path references and remove
2. Update any dual-syntax examples to plugin-only
3. Remove mentions of NPM distribution path

Key patterns to find and update:
- `npx @gannonh/kata` -> remove
- `/kata-skill-name` -> `/kata:skill-name` (if context is invocation)
- `~/.claude/skills/kata-*` -> remove (NPX global paths)
  </action>
  <verify>
```bash
# Verify no NPX invocation syntax
grep -n "/kata-[a-z]" CLAUDE.md | grep -v "kata:" | head -5
# Should return nothing or only historical/comment references

# Verify no npx installation
grep -n "npx @gannonh" CLAUDE.md KATA-STYLE.md
# Should return nothing
```
  </verify>
  <done>CLAUDE.md and KATA-STYLE.md updated for plugin-only distribution</done>
</task>

</tasks>

<verification>
- [ ] `grep -r "npx @gannonh" README.md CLAUDE.md KATA-STYLE.md` returns nothing
- [ ] README.md installation section shows only plugin
- [ ] CLAUDE.md skills table shows only `/kata:` syntax
- [ ] No broken links or references to deleted files
</verification>

<success_criteria>
1. README.md shows plugin-only installation
2. npm badge removed from README.md
3. CLAUDE.md invocation examples use `/kata:` syntax only
4. KATA-STYLE.md has no NPX path references
5. All documentation internally consistent
</success_criteria>

<output>
After completion, create `.planning/phases/07-deprecate-npx-support/07-04-SUMMARY.md`
</output>
