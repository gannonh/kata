---
wave: 3
depends_on:
  - 01-01
  - 01-02
  - 01-03
  - 01-04
files_modified:
  - skills/adding-issues/SKILL.md
  - skills/checking-issues/SKILL.md
autonomous: true
---

<objective>
Ensure STATE.md integration uses the new "Pending Issues" vocabulary and verify the complete issue workflow end-to-end.

**Why:** ISS-04 requires unified display and consistent format.
</objective>

<tasks>

<task type="auto">
  <name>Task 1: Update STATE.md references in skills</name>
  <files>skills/adding-issues/SKILL.md, skills/checking-issues/SKILL.md</files>
  <action>
    Verify and update STATE.md integration:

    1. In adding-issues: The `update_state` step should reference "### Pending Issues"
    2. In checking-issues: Same - use "### Pending Issues" section header
    3. Both should count from `.planning/issues/open/*.md`

    Update any references to:
    - "### Pending Todos" → "### Pending Issues"
    - Count logic: `ls .planning/todos/pending/*.md` → `ls .planning/issues/open/*.md`
  </action>
  <verify>grep -c "Pending Issues" skills/adding-issues/SKILL.md skills/checking-issues/SKILL.md</verify>
  <done>STATE.md references use "Pending Issues"</done>
</task>

<task type="auto">
  <name>Task 2: Verify unified display format</name>
  <files>skills/checking-issues/SKILL.md</files>
  <action>
    Ensure the display format in checking-issues produces consistent output:

    1. Table format with columns: #, Title, Area, Age
    2. Sorted by date (newest first or oldest first - document the choice)
    3. Clear numbering for selection
    4. Show count: "N issues pending"

    This is verification that the existing logic works with the new paths, not new implementation.
  </action>
  <verify>Invoke /kata:check-issues in a test project with issues and verify table displays</verify>
  <done>Display format is consistent and readable</done>
</task>

</tasks>

<must_haves>
- [ ] STATE.md shows "### Pending Issues" section
- [ ] Issue count reflects .planning/issues/open/ directory
- [ ] /kata:check-issues displays all issues with consistent format
</must_haves>

<verification>
```bash
# Check STATE.md section name in skill
grep -i "pending issues" skills/adding-issues/SKILL.md skills/checking-issues/SKILL.md

# Check count logic references correct path
grep ".planning/issues/open" skills/adding-issues/SKILL.md skills/checking-issues/SKILL.md
```
</verification>
