---
phase: 01-audit-config-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - kata/templates/config.json
  - .planning/phases/01-audit-config-foundation/01-INTEGRATION-POINTS.md
autonomous: true

must_haves:
  truths:
    - "Config template includes github.enabled boolean"
    - "Config template includes github.issueMode with valid values"
    - "Integration points documented for 3 affected skills"
  artifacts:
    - path: "kata/templates/config.json"
      provides: "GitHub config schema with defaults"
      contains: '"github"'
    - path: ".planning/phases/01-audit-config-foundation/01-INTEGRATION-POINTS.md"
      provides: "Integration point documentation"
      min_lines: 50
  key_links:
    - from: "kata/templates/config.json"
      to: "skills that read config"
      via: "github object in schema"
      pattern: '"enabled".*"issueMode"'
---

<objective>
Establish GitHub integration config schema and document integration points in existing Kata skills.

Purpose: Provide the foundation for GitHub integration by defining the config structure and identifying where GitHub logic will hook into existing workflows.

Output:
- Updated `kata/templates/config.json` with github settings
- `01-INTEGRATION-POINTS.md` documenting where GitHub logic hooks in
</objective>

<execution_context>
@~/.claude/kata/workflows/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-audit-config-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update config.json template with GitHub settings</name>
  <files>kata/templates/config.json</files>
  <action>
Add `github` object to config.json template with:
- `enabled`: boolean, default `false` (integration disabled by default)
- `issueMode`: string, default `"ask"` (prompt before creating issues)

Valid issueMode values: `"auto"` | `"ask"` | `"never"`

Place the github object after the existing `safety` object. Keep all existing config structure intact.
  </action>
  <verify>
Read kata/templates/config.json and confirm:
1. github object exists at root level
2. github.enabled is false (boolean)
3. github.issueMode is "ask" (string)
4. All existing config (mode, depth, parallelization, gates, safety) preserved
  </verify>
  <done>Config template has complete github section with enabled=false and issueMode="ask"</done>
</task>

<task type="auto">
  <name>Task 2: Document integration points in existing skills</name>
  <files>.planning/phases/01-audit-config-foundation/01-INTEGRATION-POINTS.md</files>
  <action>
Create documentation of where GitHub integration hooks into Kata workflows.

Document 3 integration points from the research:

1. **kata-project-initialization** (CONFIG WRITE)
   - Location: Step 5 "Configure Workflow Preferences"
   - Hook type: WRITE config
   - What happens: Ask about GitHub integration during onboarding, write preferences to config.json

2. **kata-milestone-management** (MILESTONE CREATION)
   - Location: NEW MILESTONE Workflow, Step 10 "Present completion"
   - Hook type: READ config
   - What happens: If github.enabled=true, create GitHub Milestone after local milestone

3. **kata-execution** (PR CREATION)
   - Location: Step 10 "Present Results", milestone complete branch
   - Hook type: READ config
   - What happens: If github.enabled=true AND milestone complete, create PR

For each integration point, document:
- Exact file path
- Step/location within workflow
- Hook type (READ or WRITE)
- What GitHub action occurs
- Config values read/written

Format as structured markdown with tables and code blocks showing the conditional logic pattern.
  </action>
  <verify>
Read the created file and confirm:
1. All 3 integration points documented
2. Each has file path, location, hook type
3. Includes code pattern for config read/write
  </verify>
  <done>Integration points documented with file paths, locations, and conditional logic patterns</done>
</task>

</tasks>

<verification>
Phase 1 Plan 01 verification:

1. **Config schema exists:**
   ```bash
   grep -q '"github"' kata/templates/config.json && echo "PASS: github key exists"
   ```

2. **Integration points documented:**
   ```bash
   [ -f .planning/phases/01-audit-config-foundation/01-INTEGRATION-POINTS.md ] && echo "PASS: doc exists"
   ```

3. **All 3 skills referenced:**
   ```bash
   grep -c "kata-" .planning/phases/01-audit-config-foundation/01-INTEGRATION-POINTS.md | grep -q "[3-9]" && echo "PASS: skills documented"
   ```
</verification>

<success_criteria>
- [ ] Config template includes `github.enabled` (boolean, default false)
- [ ] Config template includes `github.issueMode` (string, default "ask")
- [ ] Integration points documented for kata-project-initialization
- [ ] Integration points documented for kata-milestone-management
- [ ] Integration points documented for kata-execution
- [ ] Each integration point has: file path, location, hook type, action
</success_criteria>

<output>
After completion, create `.planning/phases/01-audit-config-foundation/01-01-SUMMARY.md`
</output>
