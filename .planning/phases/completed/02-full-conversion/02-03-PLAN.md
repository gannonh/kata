---
phase: 02-full-conversion
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/kata-review-pull-requests/references/code-reviewer-instructions.md
  - skills/kata-review-pull-requests/references/code-simplifier-instructions.md
  - skills/kata-review-pull-requests/references/comment-analyzer-instructions.md
  - skills/kata-review-pull-requests/references/pr-test-analyzer-instructions.md
  - skills/kata-review-pull-requests/references/type-design-analyzer-instructions.md
  - skills/kata-review-pull-requests/references/failure-finder-instructions.md
  - skills/kata-review-pull-requests/references/silent-failure-hunter-instructions.md
  - skills/kata-review-pull-requests/references/entity-generator-instructions.md
autonomous: true

must_haves:
  truths:
    - "All 8 agent instruction files exist in kata-review-pull-requests/references/"
    - "Each instruction file contains verbatim agent body content (no frontmatter)"
    - "kata-review-pull-requests SKILL.md is NOT modified (context:fork pattern preserved)"
  artifacts:
    - path: "skills/kata-review-pull-requests/references/code-reviewer-instructions.md"
      provides: "Code reviewer agent instructions"
      min_lines: 35
    - path: "skills/kata-review-pull-requests/references/code-simplifier-instructions.md"
      provides: "Code simplifier agent instructions"
      min_lines: 70
    - path: "skills/kata-review-pull-requests/references/comment-analyzer-instructions.md"
      provides: "Comment analyzer agent instructions"
      min_lines: 55
    - path: "skills/kata-review-pull-requests/references/pr-test-analyzer-instructions.md"
      provides: "PR test analyzer agent instructions"
      min_lines: 55
    - path: "skills/kata-review-pull-requests/references/type-design-analyzer-instructions.md"
      provides: "Type design analyzer agent instructions"
      min_lines: 95
    - path: "skills/kata-review-pull-requests/references/failure-finder-instructions.md"
      provides: "Failure finder agent instructions"
      min_lines: 115
    - path: "skills/kata-review-pull-requests/references/silent-failure-hunter-instructions.md"
      provides: "Silent failure hunter agent instructions (UNUSED)"
      min_lines: 115
    - path: "skills/kata-review-pull-requests/references/entity-generator-instructions.md"
      provides: "Entity generator agent instructions (UNUSED)"
      min_lines: 220
  key_links:
    - from: "skills/kata-review-pull-requests/SKILL.md"
      to: "skills/kata-review-pull-requests/references/"
      via: "Agent descriptions in SKILL.md reference instruction files as supporting documentation"
      pattern: "references/"
---

<objective>
Extract all 8 PR review agents to kata-review-pull-requests/references/ as instruction files.

Purpose: kata-review-pull-requests uses `context: fork` and does NOT spawn agents via Task() calls. The parent session reads agent definitions and spawns them. Migration for this skill is file extraction only. The SKILL.md does NOT need Task() updates. Instruction files serve as supporting documentation that the forked context can reference.

Note: kata-silent-failure-hunter and kata-entity-generator are UNUSED (0 active references). Migrated for completeness per research recommendation.
Output: 8 instruction files in references/ directory
</objective>

<execution_context>
<!-- Executor agent has built-in instructions for plan execution and summary creation -->
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/pending/02-full-conversion/02-RESEARCH.md

Source files:
@agents/kata-code-reviewer.md
@agents/kata-code-simplifier.md
@agents/kata-comment-analyzer.md
@agents/kata-pr-test-analyzer.md
@agents/kata-type-design-analyzer.md
@agents/kata-failure-finder.md
@agents/kata-silent-failure-hunter.md
@agents/kata-entity-generator.md
@skills/kata-review-pull-requests/SKILL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create references/ directory and extract all 8 agent instruction files</name>
  <files>skills/kata-review-pull-requests/references/code-reviewer-instructions.md, skills/kata-review-pull-requests/references/code-simplifier-instructions.md, skills/kata-review-pull-requests/references/comment-analyzer-instructions.md, skills/kata-review-pull-requests/references/pr-test-analyzer-instructions.md, skills/kata-review-pull-requests/references/type-design-analyzer-instructions.md, skills/kata-review-pull-requests/references/failure-finder-instructions.md, skills/kata-review-pull-requests/references/silent-failure-hunter-instructions.md, skills/kata-review-pull-requests/references/entity-generator-instructions.md</files>
  <action>
Create `skills/kata-review-pull-requests/references/` directory if it doesn't exist.

For each of the 8 agents below, extract the body (everything after YAML frontmatter) to the corresponding instruction file. Same pattern as POC: read agent file, skip frontmatter (content between first and second `---`), copy body verbatim.

| Agent file | Instruction file |
|---|---|
| agents/kata-code-reviewer.md | references/code-reviewer-instructions.md |
| agents/kata-code-simplifier.md | references/code-simplifier-instructions.md |
| agents/kata-comment-analyzer.md | references/comment-analyzer-instructions.md |
| agents/kata-pr-test-analyzer.md | references/pr-test-analyzer-instructions.md |
| agents/kata-type-design-analyzer.md | references/type-design-analyzer-instructions.md |
| agents/kata-failure-finder.md | references/failure-finder-instructions.md |
| agents/kata-silent-failure-hunter.md | references/silent-failure-hunter-instructions.md |
| agents/kata-entity-generator.md | references/entity-generator-instructions.md |

For all files: verify they do NOT start with `---` and do NOT contain `tools:`, `color:`, or `model:` YAML fields.

Do NOT modify SKILL.md. The context:fork pattern does not use Task() calls, so no SKILL.md update is needed.
  </action>
  <verify>
1. `ls skills/kata-review-pull-requests/references/ | wc -l` returns 8
2. For each file: `head -1` does NOT start with `---`
3. `grep -l 'tools:' skills/kata-review-pull-requests/references/*` returns empty
4. `npm run build:plugin` succeeds
  </verify>
  <done>
- 8 instruction files created in skills/kata-review-pull-requests/references/
- All files contain verbatim agent body content (no frontmatter)
- SKILL.md unchanged (context:fork pattern preserved)
- Build passes
  </done>
</task>

</tasks>

<verification>
- `ls skills/kata-review-pull-requests/references/*.md | wc -l` returns 8
- Each instruction file body matches corresponding agent body (post-frontmatter)
- `skills/kata-review-pull-requests/SKILL.md` is unmodified
- `npm run build:plugin` succeeds
</verification>

<success_criteria>
1. All 8 instruction files exist in skills/kata-review-pull-requests/references/
2. Each file contains verbatim agent body (no frontmatter)
3. SKILL.md unchanged
4. Plugin build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/pending/02-full-conversion/02-03-SUMMARY.md`
</output>
