---
phase: 02.2-decoupling-project-init-milestone-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/kata-starting-projects/SKILL.md
autonomous: true

must_haves:
  truths:
    - "starting-projects creates only PROJECT.md and config.json"
    - "starting-projects does NOT create ROADMAP.md, REQUIREMENTS.md, or research/"
    - "starting-projects prompts user to run add-milestone as next step"
  artifacts:
    - path: "skills/kata-starting-projects/SKILL.md"
      provides: "Reduced scope project initialization"
      contains: "Run `/kata:add-milestone`"
  key_links:
    - from: "skills/kata-starting-projects/SKILL.md"
      to: "kata-adding-milestones"
      via: "Next Up prompt"
      pattern: "add-milestone"
---

<objective>

Reduce kata-starting-projects scope to project configuration only: PROJECT.md + config.json.

Purpose: Decouple project initialization from first milestone creation for clearer mental model.
Output: Modified SKILL.md with Phases 6-8 removed and updated completion prompt.

</objective>

<context>

@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02.2-decoupling-project-init-milestone-setup/02.2-RESEARCH.md

**Current state:** starting-projects creates PROJECT.md, config.json, research/, REQUIREMENTS.md, ROADMAP.md, STATE.md in one monolithic flow (Phases 1-10).

**Target state:** starting-projects creates PROJECT.md + config.json only (Phases 1-5.5), then prompts for add-milestone.

</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Phases 6-10 from starting-projects</name>
  <files>skills/kata-starting-projects/SKILL.md</files>
  <action>
Read the current SKILL.md and identify the phase boundaries:
- Keep: Phase 1 (Setup), Phase 2 (Brownfield Offer), Phase 3 (Deep Questioning), Phase 4 (Write PROJECT.md), Phase 5 (Workflow Preferences), Phase 5.5 (Resolve Model Profile)
- Remove: Phase 6 (Research Decision), Phase 7 (Define Requirements), Phase 8 (Create Roadmap), Phase 10 (Done with full artifact list)

After Phase 5.5 (Resolve Model Profile), add a NEW Phase 6 (Done) that:
1. Commits PROJECT.md and config.json (if not already committed)
2. Displays a completion banner showing only the 2 artifacts created
3. Points user to `/kata:add-milestone` as the next step

Update these sections:
- `<objective>` block: Remove mention of research/, REQUIREMENTS.md, ROADMAP.md, STATE.md from "Creates:" list. Keep only PROJECT.md and config.json. Change "After this command:" to "Run `/kata:add-milestone` to define your first milestone."
- `<output>` block: Remove research/, REQUIREMENTS.md, ROADMAP.md, STATE.md entries
- `<success_criteria>`: Remove research, requirements, roadmap, and STATE.md criteria. Keep only PROJECT.md and config.json criteria.
- Remove any `@./references/requirements-template.md` from execution_context if present

The new Phase 6 (Done) should display:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 Kata ► PROJECT INITIALIZED ✓
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

**[Project Name]**

| Artifact     | Location                |
| ------------ | ----------------------- |
| Project      | `.planning/PROJECT.md`  |
| Config       | `.planning/config.json` |

Ready for milestone planning ✓

───────────────────────────────────────────────────────────────

## ▶ Next Up

**Define your first milestone**

`/kata:add-milestone` — research, requirements, and roadmap

<sub>`/clear` first → fresh context window</sub>

───────────────────────────────────────────────────────────────
```
  </action>
  <verify>
Read the modified SKILL.md:
- Confirm Phase 6 (Research Decision) text is gone
- Confirm Phase 7 (Define Requirements) text is gone
- Confirm Phase 8 (Create Roadmap) text is gone
- Confirm "Creates:" section lists only PROJECT.md and config.json
- Confirm output section lists only PROJECT.md and config.json
- Confirm success_criteria only mentions PROJECT.md and config.json completion
- Confirm new "Next Up" section mentions `/kata:add-milestone`
  </verify>
  <done>
starting-projects SKILL.md contains only Phases 1-5.5 + new Phase 6 (Done), outputs only PROJECT.md + config.json, and prompts for add-milestone as next step.
  </done>
</task>

<task type="auto">
  <name>Task 2: Commit reduced starting-projects</name>
  <files>skills/kata-starting-projects/SKILL.md</files>
  <action>
Stage and commit the modified SKILL.md:

```bash
git add skills/kata-starting-projects/SKILL.md
git commit -m "$(cat <<'EOF'
refactor(02.2-01): reduce starting-projects to project config only

Removes research, requirements, and roadmap creation from starting-projects.
These phases move to the new kata-adding-milestones skill.

Starting-projects now creates only:
- .planning/PROJECT.md
- .planning/config.json

Next step prompt updated to point to /kata:add-milestone.

Co-Authored-By: Claude <noreply@anthropic.com>
EOF
)"
```
  </action>
  <verify>
`git log -1 --oneline` shows the commit.
`git diff HEAD~1 --stat` shows only skills/kata-starting-projects/SKILL.md modified.
  </verify>
  <done>
Commit exists with message indicating reduced scope.
  </done>
</task>

</tasks>

<verification>

```bash
# Verify the skill no longer contains milestone creation phases
grep -c "Phase 6: Research Decision" skills/kata-starting-projects/SKILL.md  # Should be 0
grep -c "Phase 7: Define Requirements" skills/kata-starting-projects/SKILL.md  # Should be 0
grep -c "Phase 8: Create Roadmap" skills/kata-starting-projects/SKILL.md  # Should be 0

# Verify it prompts for add-milestone
grep -c "add-milestone" skills/kata-starting-projects/SKILL.md  # Should be >= 1

# Verify Creates section is reduced
grep -A10 "Creates:" skills/kata-starting-projects/SKILL.md | grep -c "ROADMAP"  # Should be 0
```

</verification>

<success_criteria>

- [ ] Phases 6-8 removed from starting-projects SKILL.md
- [ ] Phase 10 (old Done) replaced with new completion banner
- [ ] "Creates:" section lists only PROJECT.md and config.json
- [ ] "Next Up" section points to `/kata:add-milestone`
- [ ] `<output>` section lists only PROJECT.md and config.json
- [ ] `<success_criteria>` reflects reduced scope
- [ ] Changes committed with descriptive message

</success_criteria>

<output>

After completion, create `.planning/phases/02.2-decoupling-project-init-milestone-setup/02.2-01-SUMMARY.md`

</output>
