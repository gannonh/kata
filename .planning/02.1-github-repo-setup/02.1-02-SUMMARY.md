---
phase: 02.1-github-repo-setup
plan: 02
subsystem: github-integration
tags: [gh-cli, git-remote, milestone-creation, error-handling]

dependency_graph:
  requires: []
  provides:
    - remote-validation-guard
    - graceful-github-degradation
  affects:
    - 02.1-01 (repo creation flow should be added before this)

tech_stack:
  added: []
  patterns:
    - git-remote-detection
    - non-blocking-github-ops

key_files:
  created: []
  modified:
    - skills/kata-starting-milestones/SKILL.md
    - tests/skills/starting-milestones.test.js

decisions:
  - id: remote-before-auth
    choice: Check remote exists BEFORE authentication check
    reason: Remote absence is more fundamental than auth state
  - id: no-config-mutation
    choice: Do not modify github.enabled on missing remote
    reason: User may add remote later, respect their intent

metrics:
  duration: 4 min
  completed: 2026-01-25
---

# Phase 02.1 Plan 02: Milestone Remote Validation Summary

**One-liner:** GitHub remote validation guard in starting-milestones prevents gh api placeholder expansion failures when no remote exists.

## What Was Built

Added remote validation guard to `/kata:starting-milestones` Phase 5.5 that:

1. Checks for GitHub remote BEFORE any `gh api` calls using `git remote -v | grep github.com`
2. Displays actionable warning when remote missing (includes `gh repo create` instructions)
3. Allows local milestone creation to proceed regardless of GitHub remote status
4. Maintains original error handling principles (all GitHub ops non-blocking)

## Implementation Details

**SKILL.md Phase 5.5 Changes:**

```bash
# Step 1: Validate GitHub remote exists (NEW)
HAS_GITHUB_REMOTE=$(git remote -v 2>/dev/null | grep -q 'github\.com' && echo "true" || echo "false")

# If no remote, display warning and skip GitHub ops
# If remote exists, proceed to auth check and milestone creation
```

**Test Coverage:**

New test `it('includes GitHub remote validation guard')` verifies:
- Skill includes `git remote -v` or `HAS_GITHUB_REMOTE` pattern
- Warning message for missing remote present
- `gh repo create` instructions in warning

## Commits

| Hash | Type | Description |
| ---- | ---- | ----------- |
| 5328f88 | feat | Add remote validation guard to starting-milestones |
| 9350748 | test | Add test for remote validation guard |

## Deviations from Plan

None - plan executed exactly as written.

## Files Modified

| File | Changes |
| ---- | ------- |
| `skills/kata-starting-milestones/SKILL.md` | Added Step 1 (remote check) before auth check in Phase 5.5, updated error handling principles |
| `tests/skills/starting-milestones.test.js` | Added new test for remote validation guard pattern |

## Next Phase Readiness

**Ready for:** 02.1-01 (repo creation in starting-projects) - the guard is in place, now needs the repo creation flow to be complete

**Blockers:** None

**Concerns:** None - this change is purely defensive and backward-compatible
