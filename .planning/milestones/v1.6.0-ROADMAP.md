# Milestone v1.6.0: Skills-Native Subagents

**Status:** SHIPPED 2026-02-06
**Goal:** Deprecate custom subagent types to make Kata portable across Agent Skills-compatible platforms.
**Phases:** 30-34
**Total Plans:** 17

## Overview

Migrated all 19 custom agent types from `agents/` directory to skill resources in `skills/*/references/`. Skills inline instructions into Task prompts and spawn standard `general-purpose` subagents. Added skills.sh as second distribution channel. Fixed phase numbering collisions. Cleaned up legacy infrastructure.

## Phases

### Phase 30: Proof of Concept

**Goal:** Validate the subagent-as-skill-resource pattern with 2 agents
**Dependencies:** None
**Requirements:** POC-01, POC-02, POC-03, POC-04, POC-05, POC-06
**Plans:** 3 plans

Plans:
- [x] 01-01-PLAN.md — Migrate kata-planner to skill resource + update kata-plan-phase
- [x] 01-02-PLAN.md — Migrate kata-executor to skill resource + update kata-execute-phase
- [x] 01-03-PLAN.md — Validate POC behavior + Go/No-Go decision (Go)

**Success Criteria:**
1. kata-planner instructions exist as skill resource
2. kata-executor instructions exist as skill resource
3. kata-plan-phase spawns standard general-purpose subagent with inlined instructions
4. kata-execute-phase spawns standard general-purpose subagent with inlined instructions
5. Phase planning produces equivalent quality output
6. User made Go/No-Go decision (Go)

---

### Phase 31: Full Conversion

**Goal:** Migrate all remaining agents to skill resources
**Dependencies:** Phase 30 (Go decision required)
**Requirements:** CONV-01, CONV-02, CONV-03, CONV-04, CONV-05
**Plans:** 7 plans

Plans:
- [x] 02-01-PLAN.md — Migrate phase-researcher + plan-checker to kata-plan-phase
- [x] 02-02-PLAN.md — Migrate project-researcher + synthesizer + roadmapper to kata-add-milestone
- [x] 02-03-PLAN.md — Extract 8 PR review agents to kata-review-pull-requests
- [x] 02-04-PLAN.md — Migrate integration-checker to kata-audit-milestone
- [x] 02-05-PLAN.md — Migrate debugger to kata-debug + extract verifier/codebase-mapper + update quick-task
- [x] 02-06-PLAN.md — Update shared agent consumers and reference files across skills
- [x] 02-07-PLAN.md — Migration validation test (CONV-04) + test suite step (CONV-05)

**Success Criteria:**
1. All 15+ agent instruction files migrated to skill references/ directories
2. All skills that spawn subagents use general-purpose type with inlined instructions
3. No remaining subagent_type="kata:kata-*" patterns in codebase
4. Automated migration validation test passes in npm test
5. Execute-phase orchestrator runs project test suite before verification

---

### Phase 32: Phase lookup ignores milestone scope causing collisions

**Goal:** Revert to globally sequential phase numbering, rename all historical directories, and update numbering policy across all skills
**Dependencies:** Phase 31
**Issue:** Closes #102
**Plans:** 3 plans (2 waves)

Plans:
- [x] 03-01-PLAN.md — Batch-rename completed + pending phase directories to globally sequential numbers
- [x] 03-02-PLAN.md — Update numbering policy and documentation across all skill files
- [x] 03-03-PLAN.md — Update ROADMAP.md and STATE.md with new global phase numbers

**Success Criteria:**
1. Every phase directory has a globally unique sequential numeric prefix (no collisions)
2. All "start phase numbering at 1" policy references updated to "continue from highest + 1"
3. ROADMAP.md and STATE.md reflect new global phase numbers
4. Phase lookup pattern works correctly with unique prefixes

---

### Phase 33: skills.sh Distribution Channel

**Goal:** Publish Kata skills to skills.sh via gannonh/kata-skills GitHub repo
**Dependencies:** Phase 32
**Requirements:** DIST-01, DIST-02, DIST-03, DIST-04
**Plans:** 2 plans (2 waves)

Plans:
- [x] 33-01-PLAN.md — Normalize source frontmatter to Agent Skills spec + add skills-ref validation test
- [x] 33-02-PLAN.md — Add skills-sh build target, README generation, and CI pipeline extension

**Success Criteria:**
1. gannonh/kata-skills GitHub repo exists with skills/ directory
2. Build step produces skills.sh-compatible output
3. npx skills add gannonh/kata-skills installs Kata skills
4. CI/CD pipeline publishes to gannonh/kata-skills on release
5. Skill naming and descriptions optimized for cross-platform discovery

---

### Phase 34: Cleanup

**Goal:** Remove legacy infrastructure and update documentation
**Dependencies:** Phase 33
**Requirements:** CLEAN-01, CLEAN-02, CLEAN-03, CLEAN-04
**Plans:** 2 plans (2 waves)

Plans:
- [x] 34-01-PLAN.md — Update CLAUDE.md, KATA-STYLE.md, README.md, build.js documentation
- [x] 34-02-PLAN.md — Build plugin and run test suite validation

**Success Criteria:**
1. agents/ directory deleted from repository
2. Build system no longer references or copies agent files
3. CLAUDE.md and KATA-STYLE.md reflect new skill resource patterns
4. Full workflow works with built plugin

---

## Milestone Summary

**Key Decisions:**
- Skill resource pattern: agent instructions in references/, inlined at spawn time
- general-purpose subagent type for all agents (portable, standard)
- Instruction file duplication for cross-skill sharing (self-contained skills)
- Globally sequential phase numbering (reverted per-milestone numbering)
- Dual distribution: plugin marketplace + skills.sh

**Issues Resolved:**
- Phase lookup collision when multiple milestones had phases starting at 1 (#102)
- Custom agent types creating platform dependency

**Issues Deferred:**
- Agent Teams Migration (TEAM-01 through TEAM-06) deferred to future milestone
- CI publish to gannonh/kata-skills untested until release triggers pipeline

**Technical Debt Incurred:**
- skills.sh CI publish steps exist but have not executed (awaiting first release trigger)
- SKILLS_TOKEN secret assumed configured

---

_For current project status, see .planning/ROADMAP.md_
