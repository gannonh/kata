---
phase: 02-onboarding-and-milestones
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - skills/kata-starting-projects/SKILL.md
autonomous: true

must_haves:
  truths:
    - "User is prompted about GitHub integration during project setup"
    - "User can choose to enable or disable GitHub Milestones/Issues"
    - "User can select issue creation mode (auto/ask/never)"
    - "Config choices persist to config.json github namespace"
  artifacts:
    - path: "skills/kata-starting-projects/SKILL.md"
      provides: "GitHub integration questions in Phase 5"
      contains: "GitHub Integration"
  key_links:
    - from: "skills/kata-starting-projects/SKILL.md"
      to: ".planning/config.json"
      via: "AskUserQuestion -> write github.* keys"
      pattern: "github.*enabled|issueMode"
---

<objective>
Extend kata-starting-projects with GitHub integration questions during onboarding.

Purpose: New projects can opt-in to GitHub Milestone/Issue tracking from the start.
Output: Updated SKILL.md with GitHub preference questions in Phase 5.
</objective>

<execution_context>
@~/.claude/kata/references/execute-plan.md
@~/.claude/kata/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-onboarding-and-milestones/02-RESEARCH.md

**Phase 1 foundation:**
- Config schema established: `github.enabled`, `github.issueMode`
- Defaults: `enabled: false`, `issueMode: never`
- Reading patterns documented in planning-config.md

**Current skill structure:**
- Phase 5: Workflow Preferences (Mode, Depth, Parallelization, Git Tracking, PR Workflow)
- config.json created at end of Phase 5
- No GitHub questions currently
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add GitHub integration questions to Phase 5</name>
  <files>skills/kata-starting-projects/SKILL.md</files>
  <action>
Add GitHub integration questions after the existing PR Workflow question in Phase 5, Round 1.

**Insert after PR Workflow question (around line 295):**

```yaml
{
  header: "GitHub Tracking",
  question: "Enable GitHub Milestone/Issue tracking?",
  multiSelect: false,
  options: [
    { label: "Yes (Recommended)", description: "Create GitHub Milestones for Kata milestones, optionally create Issues for phases" },
    { label: "No", description: "Keep planning local to .planning/ directory only" }
  ]
}
```

**Add conditional follow-up question (only if "Yes" selected):**

```yaml
# If GitHub Tracking = Yes:
{
  header: "Issue Creation",
  question: "When should GitHub Issues be created for phases?",
  multiSelect: false,
  options: [
    { label: "Auto", description: "Create Issues automatically for each phase (no prompting)" },
    { label: "Ask per milestone", description: "Prompt once per milestone, decision applies to all phases" },
    { label: "Never", description: "Only create Milestones, no phase-level Issues" }
  ]
}
```

**Update config.json template (around line 365-380):**

Add github namespace to the config.json structure:

```json
{
  "mode": "yolo|interactive",
  "depth": "quick|standard|comprehensive",
  "parallelization": true|false,
  "commit_docs": true|false,
  "pr_workflow": true|false,
  "model_profile": "quality|balanced|budget",
  "display": {
    "statusline": true|false
  },
  "workflow": {
    "research": true|false,
    "plan_check": true|false,
    "verifier": true|false
  },
  "github": {
    "enabled": true|false,    // From GitHub Tracking question
    "issueMode": "auto|ask|never"  // From Issue Creation question (or "never" if GitHub disabled)
  }
}
```

**Add note after config.json creation:**

```markdown
**If GitHub Tracking = Yes:**
- Set `github.enabled: true` and `github.issueMode` based on Issue Creation choice
- Display note: "GitHub integration enabled. Milestones will be created via `gh` CLI."

**If GitHub Tracking = No:**
- Set `github.enabled: false` and `github.issueMode: never`
```

**Important:** The conditional flow must handle the case where user says "No" to GitHub Tracking - skip the Issue Creation question and set both defaults.
  </action>
  <verify>
Run: `grep -n "GitHub Tracking" skills/kata-starting-projects/SKILL.md`
Expect: Line number where GitHub Tracking question appears

Run: `grep -n "github.enabled" skills/kata-starting-projects/SKILL.md`
Expect: Multiple matches - in questions and config.json template
  </verify>
  <done>
- GitHub Tracking question exists in Phase 5
- Issue Creation follow-up question exists (conditional)
- config.json template includes github namespace
- Conditional logic documented for both Yes/No paths
  </done>
</task>

</tasks>

<verification>
After completing the task:

1. Verify question placement:
```bash
grep -A5 "GitHub Tracking" skills/kata-starting-projects/SKILL.md
```

2. Verify config.json template includes github:
```bash
grep -A3 '"github"' skills/kata-starting-projects/SKILL.md
```

3. Verify conditional logic documented:
```bash
grep -c "If GitHub Tracking" skills/kata-starting-projects/SKILL.md
```
Expected: >= 2 (Yes path and No path)
</verification>

<success_criteria>
- [ ] GitHub Tracking question added to Phase 5 Round 1
- [ ] Issue Creation conditional question documented
- [ ] config.json template includes github.enabled and github.issueMode
- [ ] Conditional flow handles both Yes and No responses
- [ ] Changes committed with appropriate message
</success_criteria>

<output>
After completion, create `.planning/phases/02-onboarding-and-milestones/02-01-SUMMARY.md`
</output>
